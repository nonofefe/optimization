# 演習問題

## 問題文

会社$100$社を営業$3$人が訪問し、プレゼンを実施します。各営業のカバンの容量は$700$です。  
$i$番目の会社の番号$CID_i$、位置$\left(X_i, Y_i\right)$、プレゼン希望時間帯$\left[EPT_i, FPT_i\right]$、プレゼン時間$PT_i$、プレゼン資料重量$PW_i$が与えられたとき、以下の評価関数が最小となるような各営業の会社訪問順序を求めてください。  
ただし、各会社には営業1人が必ず1回のみ訪問します。

$$
    \text{評価関数} = \text{総業務時間} + \text{ペナルティ}
$$

各営業のスタート・ゴール地点を$(0, 0)$、移動距離をユークリッド距離（=業務時間）とします。  
会社$i$のプレゼン開始時間を$t_i$、営業$k$が訪問する会社のプレゼン資料の総重量を$spw_k$としたとき、

- プレゼン希望時間帯よりも早くプレゼンを開始した場合、その時間をペナルティとして追加
    $$
        \text{ペナルティ} = \max{\left\{EPT_i - t_i, 0\right\}}
    $$
- プレゼン希望時間帯よりも遅くプレゼンが終了した場合、その時間の2倍をペナルティとして追加
    $$
        \text{ペナルティ} = 2\times\max{\left\{\left(t_i+PT_i\right)-FPT_i, 0\right\}}
    $$
- 訪問する会社のプレゼン資料の総重量よりカバン容量が小さかった場合、不足分の10倍をペナルティとして追加
    $$
        \text{ペナルティ} = 10\times\max{\left\{spw_k - 700, 0\right\}}
    $$

します。

## データ

- [companies.csv](../data/in/companies.csv) - 会社情報
  - $CID$ - 番号
  - $X$ - $X$座標
  - $Y$ - $Y$座標
  - $EPT$ - プレゼン希望開始時間
  - $FPT$ - プレゼン希望終了時間
  - $PT$ - プレゼン時間
  - $PW$ - プレゼン資料重量
- [sample_res.csv](../data/out/sample_res.csv) - 結果データ
  - $SID$ - 営業番号（1, 2, 3）
  - $CID$ - 会社番号（訪問順）
- [97947126_username.csv](../data/out/97947126_username.csv) - 提出用のサンプルフォーマット。結果データに対して、[submit.ipynb](../src/submit.ipynb)を適用する。
  - $SID$ - 営業番号（1, 2, 3）
  - $CID$ - 会社番号（訪問順）
